<!DOCTYPE html>
<html lang="vi" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoTask - ICIA Titanium</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800&family=Open+Sans:wght@400;500;600&display=swap"
        rel="stylesheet">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-brand" onclick="AppState.navigateTo('home')">
            <i data-lucide="tree-deciduous"></i>
            <span>EcoTask</span>
            <span class="badge">Titanium</span>
        </div>

        <!-- Desktop Menu -->
        <div class="nav-menu">
            <button class="nav-link active" onclick="AppState.navigateTo('home')" data-page="home">
                <i data-lucide="home"></i> <span data-i18n="nav_home">Trang ch·ªß</span>
            </button>
            <button class="nav-link" onclick="AppState.navigateTo('scanner')" data-page="scanner">
                <i data-lucide="scan-line"></i> <span data-i18n="nav_scan">Qu√©t AI</span>
            </button>
            <button class="nav-link" onclick="AppState.navigateTo('stats')" data-page="stats">
                <i data-lucide="bar-chart-2"></i> <span data-i18n="nav_stats">Th·ªëng k√™</span>
            </button>
            <button class="nav-link" onclick="AppState.navigateTo('rewards')" data-page="rewards">
                <i data-lucide="gift"></i> <span data-i18n="nav_rewards">ƒê·ªïi qu√†</span>
            </button>
            <button class="nav-link" onclick="AppState.navigateTo('wiki')" data-page="wiki">
                <i data-lucide="book-open"></i> <span data-i18n="nav_wiki">H∆∞·ªõng d·∫´n</span>
            </button>
        </div>

        <div class="nav-actions">
            <!-- Language Toggle -->
            <button class="nav-btn lang-btn" id="lang-toggle" onclick="AppState.toggleLanguage()">
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/21/Flag_of_Vietnam.svg" alt="VN"
                    class="lang-flag" id="lang-icon">
                <span id="lang-text">VN</span>
            </button>

            <!-- Dark Mode Toggle -->
            <button class="nav-btn" id="theme-toggle" aria-label="Toggle Dark Mode">
                <i data-lucide="moon"></i>
            </button>

            <!-- Login / User Avatar -->
            <div id="nav-guest" class="nav-user-area">
                <button class="btn btn-sm btn-primary" onclick="AppState.openLoginModal()" data-i18n="btn_login">ƒêƒÉng
                    nh·∫≠p</button>
            </div>
            <div id="nav-user" class="nav-user-area hidden" onclick="AppState.openUserMenu()">
                <img id="nav-avatar" src="" alt="" class="nav-avatar">
                <div class="nav-user-info">
                    <span id="nav-username" class="nav-username"></span>
                    <span id="nav-token-display" class="nav-tokens"><i data-lucide="leaf"
                            style="width:12px;height:12px"></i> <span id="nav-tokens">0</span> tokens</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- =====================  LOGIN MODAL ===================== -->
    <div class="modal-overlay hidden" id="login-modal">
        <div class="modal-box">
            <button class="modal-close" onclick="AppState.closeLoginModal()"><i data-lucide="x"></i></button>
            <div class="modal-brand">
                <i data-lucide="tree-deciduous" style="color:var(--primary)"></i>
                <h2>EcoTask</h2>
            </div>
            <p class="modal-subtitle" data-i18n="login_subtitle">Vui l√≤ng ch·ªçn lo·∫°i t√†i kho·∫£n</p>

            <!-- Account Type Tabs -->
            <div class="login-tabs">
                <button class="login-tab active" id="tab-student" onclick="AppState.switchLoginTab('student')"
                    data-i18n="tab_student">H·ªçc sinh</button>
                <button class="login-tab" id="tab-teacher" onclick="AppState.switchLoginTab('teacher')"
                    data-i18n="tab_teacher">Gi√°o vi√™n</button>
            </div>

            <!-- Student Login -->
            <div id="form-student" class="login-form">
                <div class="form-group">
                    <label data-i18n="label_school">Tr∆∞·ªùng</label>
                    <select id="stu-school" class="form-select">
                        <option value="NGT">THCS Nguy·ªÖn Gia Thi·ªÅu</option>
                        <option value="TDN">THCS Tr·∫ßn ƒê·∫°i Nghƒ©a</option>
                    </select>
                </div>
                <div class="form-group">
                    <label data-i18n="label_class">L·ªõp</label>
                    <select id="stu-class" class="form-select">
                        <option>9A1</option>
                        <option>9A2</option>
                        <option>8A1</option>
                        <option>8A2</option>
                        <option>7A1</option>
                        <option>7A2</option>
                        <option>6A1</option>
                        <option>6A2</option>
                    </select>
                </div>
                <div class="form-group">
                    <label data-i18n="label_name">H·ªç v√† t√™n</label>
                    <input type="text" id="stu-name" class="form-input" placeholder="Nguy·ªÖn VƒÉn A">
                </div>
                <div class="form-group">
                    <label data-i18n="label_password">M·∫≠t kh·∫©u</label>
                    <input type="password" id="stu-pass" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>
                <button class="btn btn-primary btn-block" onclick="AppState.loginAs('student')"
                    data-i18n="btn_login">ƒêƒÉng nh·∫≠p</button>
                <p class="demo-hint">Demo: nh·∫≠p b·∫•t k·ª≥ t√™n v√† m·∫≠t kh·∫©u r·ªìi nh·∫•n ƒëƒÉng nh·∫≠p.</p>
            </div>

            <!-- Teacher Login -->
            <div id="form-teacher" class="login-form hidden">
                <div class="form-group">
                    <label data-i18n="label_school">Tr∆∞·ªùng</label>
                    <select id="tch-school" class="form-select">
                        <option value="NGT">THCS Nguy·ªÖn Gia Thi·ªÅu</option>
                        <option value="TDN">THCS Tr·∫ßn ƒê·∫°i Nghƒ©a</option>
                    </select>
                </div>
                <div class="form-group">
                    <label data-i18n="label_teacher_id">M√£ Gi√°o vi√™n</label>
                    <input type="text" id="tch-id" class="form-input" placeholder="GV001">
                </div>
                <div class="form-group">
                    <label data-i18n="label_name">H·ªç v√† t√™n</label>
                    <input type="text" id="tch-name" class="form-input" placeholder="Nguy·ªÖn Th·ªã B">
                </div>
                <div class="form-group">
                    <label data-i18n="label_password">M·∫≠t kh·∫©u</label>
                    <input type="password" id="tch-pass" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>
                <button class="btn btn-primary btn-block" onclick="AppState.loginAs('teacher')"
                    data-i18n="btn_login">ƒêƒÉng nh·∫≠p</button>
                <p class="demo-hint">Demo: t√†i kho·∫£n gi√°o vi√™n c√≥ quy·ªÅn xem b·∫£ng x·∫øp h·∫°ng l·ªõp.</p>
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <main id="main-content">

        <!-- PAGE: HOME -->
        <div id="page-home" class="page-view active">
            <header class="hero">
                <div class="hero-content">
                    <div class="hero-text">
                        <span class="hero-badge">
                            <i data-lucide="sparkles"></i>
                            <span data-i18n="hero_badge">AI-Powered Recycling Assistant</span>
                        </span>
                        <h1 data-i18n="hero_title">Bi·∫øn r√°c th·∫£i th√†nh <span class="text-gradient">t√†i nguy√™n</span>
                        </h1>
                        <p data-i18n="hero_desc">S·ª≠ d·ª•ng tr√≠ tu·ªá nh√¢n t·∫°o (AI) ƒë·ªÉ ph√¢n lo·∫°i r√°c v√† theo d√µi t√°c ƒë·ªông m√¥i
                            tr∆∞·ªùng c·ªßa to√†n tr∆∞·ªùng.</p>
                        <div class="hero-buttons">
                            <button class="btn btn-primary" onclick="AppState.navigateTo('scanner')">
                                <i data-lucide="scan-line"></i> <span data-i18n="btn_scan">Qu√©t r√°c ngay (AI)</span>
                            </button>
                            <button class="btn btn-outline" onclick="AppState.navigateTo('stats')">
                                <i data-lucide="bar-chart-2"></i> <span data-i18n="btn_stats">Xem th·ªëng k√™</span>
                            </button>
                        </div>
                    </div>
                    <div class="hero-visual">
                        <div class="scanner-mockup">
                            <div class="scanner-frame">
                                <div class="scan-line"></div>
                                <div class="scan-overlay">
                                    <i data-lucide="scan"></i>
                                    <span>AI Identifying...</span>
                                </div>
                                <img src="https://images.unsplash.com/photo-1591193686104-fddba4d0e4d8?q=80&w=400&auto=format&fit=crop"
                                    alt="Plastic Bottle">
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Quick Features Grid (Home Only) -->
            <section class="features-preview">
                <div class="feature-card" onclick="AppState.navigateTo('scanner')">
                    <div class="feature-icon"><i data-lucide="camera"></i></div>
                    <h3 data-i18n="feat_scan_title">Nh·∫≠n di·ªán AI</h3>
                    <p data-i18n="feat_scan_desc">Ph√¢n lo·∫°i r√°c t·ª± ƒë·ªông ch·ªâ trong 3 gi√¢y.</p>
                </div>
                <div class="feature-card" onclick="AppState.navigateTo('stats')">
                    <div class="feature-icon"><i data-lucide="trending-up"></i></div>
                    <h3 data-i18n="feat_stats_title">Theo d√µi T√°c ƒë·ªông</h3>
                    <p data-i18n="feat_stats_desc">Xem s·ªë li·ªáu gi·∫£m th·∫£i CO2 th·ªùi gian th·ª±c.</p>
                </div>
                <div class="feature-card" onclick="AppState.navigateTo('rewards')">
                    <div class="feature-icon" style="background:linear-gradient(135deg,#F59E0B,#EF4444);"><i
                            data-lucide="gift"></i></div>
                    <h3 data-i18n="feat_rewards_title">ƒê·ªïi qu√† & Ph·∫ßn th∆∞·ªüng</h3>
                    <p data-i18n="feat_rewards_desc">D√πng Green Token trao ƒë·ªïi qu√† t·ª´ tr∆∞·ªùng.</p>
                </div>
                <div class="feature-card" onclick="AppState.navigateTo('wiki')">
                    <div class="feature-icon"><i data-lucide="book"></i></div>
                    <h3 data-i18n="feat_wiki_title">Wiki T√°i ch·∫ø</h3>
                    <p data-i18n="feat_wiki_desc">H∆∞·ªõng d·∫´n chi ti·∫øt c√°ch x·ª≠ l√Ω t·ª´ng lo·∫°i r√°c.</p>
                </div>
            </section>
        </div>

        <!-- PAGE: SCANNER -->
        <div id="page-scanner" class="page-view hidden">
            <section class="scanner-section">
                <div class="section-header">
                    <h2 data-i18n="scanner_title">AI Waste Scanner</h2>
                </div>
                <div class="scanner-container">
                    <div class="scanner-interface">
                        <div class="upload-zone" id="upload-zone">
                            <input type="file" id="ai-upload" accept="image/*" hidden>
                            <input type="file" id="ai-camera" accept="image/*" capture="environment" hidden>
                            <div class="upload-content">
                                <i data-lucide="camera" class="upload-icon"></i>
                                <h3 data-i18n="upload_title">Ch·ª•p ·∫£nh ho·∫∑c t·∫£i l√™n</h3>
                                <p data-i18n="upload_desc">AI s·∫Ω t·ª± ƒë·ªông ph√¢n lo·∫°i r√°c gi√∫p b·∫°n</p>
                                <p class="scanner-tip"><i data-lucide="info" style="width:14px;height:14px"></i> <span
                                        data-i18n="scanner_tip">Tr√™n ƒëi·ªán tho·∫°i: nh·∫•n <b>M·ªü Camera</b> ƒë·ªÉ ch·ª•p tr·ª±c
                                        ti·∫øp.</span></p>
                                <div class="scanner-btn-row">
                                    <button class="btn btn-sm btn-primary"
                                        onclick="document.getElementById('ai-camera').click()">
                                        <i data-lucide="camera"></i> <span data-i18n="btn_camera">M·ªü Camera</span>
                                    </button>
                                    <button class="btn btn-sm btn-outline"
                                        onclick="document.getElementById('ai-upload').click()">
                                        <i data-lucide="image"></i> <span data-i18n="btn_upload">Ch·ªçn t·ª´ m√°y</span>
                                    </button>
                                </div>
                            </div>
                            <div id="ai-preview" class="ai-preview hidden">
                                <img id="preview-img" src="" alt="Preview">
                                <div class="scanning-effect hidden" id="scanning-effect">
                                    <div class="scan-bar"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="scanner-result hidden" id="scanner-result">
                        <h3 data-i18n="result_title">K·∫øt qu·∫£ ph√¢n t√≠ch AI</h3>
                        <div class="result-card">
                            <div class="result-icon-wrapper" id="result-icon-wrapper">
                                <i data-lucide="box"></i>
                            </div>
                            <div class="result-info">
                                <h4 id="result-type">R√°c Nh·ª±a (Plastic)</h4>
                                <p class="confidence"><span data-i18n="confidence">ƒê·ªô ch√≠nh x√°c:</span> <span
                                        id="result-confidence">98%</span></p>
                                <p class="disposal-guide" id="result-guide">
                                    üí° Guide: Rinse, flatten, and put in the yellow bin.
                                </p>
                                <div class="impact-gained">
                                    <i data-lucide="leaf"></i> <span id="impact-val">+0.05kg CO2</span>
                                </div>
                            </div>
                        </div>
                        <div class="scanner-actions">
                            <button class="btn btn-primary" onclick="AppState.confirmRecycle()">
                                <i data-lucide="check"></i> <span data-i18n="btn_confirm">X√°c nh·∫≠n ƒë√£ t√°i ch·∫ø</span>
                            </button>
                            <button class="btn btn-outline" onclick="AppState.resetScanner()">
                                <i data-lucide="refresh-cw"></i> <span data-i18n="btn_rescan">Qu√©t l·∫°i</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- PAGE: STATS -->
        <div id="page-stats" class="page-view hidden">
            <section class="dashboard-section">
                <div class="section-header">
                    <h2 data-i18n="dashboard_title">Th·ªëng k√™ T√°c ƒë·ªông</h2>
                    <p id="dashboard-subtitle-text" data-i18n="dashboard_subtitle">D·ªØ li·ªáu th·ª±c t·∫ø t·ª´ to√†n tr∆∞·ªùng</p>
                </div>

                <!-- User Profile Context -->
                <div class="user-profile-context hidden" id="profile-context">
                    <div class="profile-card-small">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="Avatar"
                            class="profile-avatar">
                        <div class="profile-info">
                            <span class="profile-name">Nguy·ªÖn VƒÉn A</span>
                            <span class="profile-class">H·ªçc sinh l·ªõp 9A1</span>
                        </div>
                    </div>
                </div>

                <!-- Stats Controls -->
                <div class="stats-controls">
                    <!-- Scope Toggles -->
                    <div class="scope-toggles">
                        <button class="scope-btn active" onclick="AppState.setStatsScope('class')" id="btn-class">
                            <i data-lucide="users"></i> <span data-i18n="filter_class">L·ªõp</span>
                        </button>
                        <button class="scope-btn" onclick="AppState.setStatsScope('grade')" id="btn-grade">
                            <i data-lucide="layers"></i> <span data-i18n="filter_grade">Kh·ªëi</span>
                        </button>
                        <button class="scope-btn" onclick="AppState.setStatsScope('school')" id="btn-school">
                            <i data-lucide="school"></i> <span data-i18n="filter_school">To√†n tr∆∞·ªùng</span>
                        </button>
                    </div>

                    <!-- Dynamic Filters (Hidden based on scope) -->
                    <div class="filter-dropdowns">
                        <select id="grade-select" class="form-select hidden" onchange="AppState.updateDashboardData()">
                            <option value="6">Kh·ªëi 6</option>
                            <option value="7">Kh·ªëi 7</option>
                            <option value="8">Kh·ªëi 8</option>
                            <option value="9" selected>Kh·ªëi 9</option>
                        </select>

                        <select id="class-select" class="form-select hidden" onchange="AppState.updateDashboardData()">
                            <!-- Will be populated by JS -->
                            <option value="9A1">L·ªõp 9A1</option>
                        </select>
                    </div>
                </div>
                <div class="dashboard-grid">
                    <!-- Key Metrics -->
                    <div class="metric-card">
                        <div class="metric-icon leaf"><i data-lucide="leaf"></i></div>
                        <h3 id="stat-co2">24.5 kg</h3>
                        <p data-i18n="stat_co2_label">CO2 ƒê√£ gi·∫£m</p>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon recycle"><i data-lucide="recycle"></i></div>
                        <h3 id="stat-waste">150 kg</h3>
                        <p data-i18n="stat_waste_label">R√°c T√°i ch·∫ø</p>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon tree"><i data-lucide="tree-deciduous"></i></div>
                        <h3 id="stat-trees">12</h3>
                        <p data-i18n="stat_trees_label">C√¢y Xanh T∆∞∆°ng ƒë∆∞∆°ng</p>
                    </div>

                    <!-- Charts -->
                    <div class="chart-card">
                        <h3 data-i18n="chart_waste_title">Ph√¢n lo·∫°i r√°c th·∫£i</h3>
                        <div style="max-height:280px;position:relative">
                            <canvas id="wasteChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3 data-i18n="chart_trend_title">Xu h∆∞·ªõng h√†ng th√°ng</h3>
                        <div style="max-height:280px;position:relative">
                            <canvas id="trendChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- PAGE: WIKI -->
        <div id="page-wiki" class="page-view hidden">
            <section class="wiki-section">
                <div class="section-header">
                    <h2 data-i18n="wiki_title">H∆∞·ªõng d·∫´n T√°i ch·∫ø</h2>
                    <p data-i18n="wiki_subtitle">Tra c·ª©u nhanh c√°ch x·ª≠ l√Ω c√°c lo·∫°i r√°c ph·ªï bi·∫øn</p>
                </div>

                <!-- Toggle between Cards and Videos -->
                <div class="wiki-tabs" style="display: flex; justify-content: center; gap: 10px; margin-bottom: 24px;">
                    <button class="filter-btn active" id="wiki-tab-guides" onclick="AppState.showWikiTab('guides')"
                        data-i18n="tab_guides">C·∫©m nang</button>
                    <button class="filter-btn" id="wiki-tab-videos" onclick="AppState.showWikiTab('videos')"
                        data-i18n="tab_videos">Video H∆∞·ªõng d·∫´n</button>
                </div>

                <!-- Wiki Grid -->
                <div id="wiki-guides" class="wiki-grid">
                    <!-- Plastic -->
                    <div class="wiki-card">
                        <div class="wiki-icon-header plastic"><i data-lucide="coffee"></i></div>
                        <h3 data-i18n="wiki_plastic">Nh·ª±a (Plastic)</h3>
                        <p class="wiki-desc" data-i18n="wiki_plastic_desc">Chai n∆∞·ªõc, h·ªôp ƒë·ª±ng th·ª©c ƒÉn, ly nh·ª±a, ·ªëng
                            h√∫t, h·ªôp x·ªëp.</p>
                        <div class="wiki-separator"></div>
                        <ul class="wiki-list">
                            <li class="do" data-i18n="wiki_plastic_do1">R·ª≠a s·∫°ch v√† ƒë·ªÉ r√°o</li>
                            <li class="do" data-i18n="wiki_plastic_do2">B√≥p b·∫πp ƒë·ªÉ ti·∫øt ki·ªám di·ªán t√≠ch</li>
                            <li class="do" data-i18n="wiki_plastic_do3">T√°ch n·∫Øp chai, nh√£n d√°n ri√™ng</li>
                            <li class="dont" data-i18n="wiki_plastic_dont">Kh√¥ng b·ªè ·ªëng h√∫t nh·ª±a nh·ªè, h·ªôp x·ªëp</li>
                        </ul>
                        <div class="wiki-fact" data-i18n="wiki_plastic_fact">üåç 1 chai PET t√°i ch·∫ø = ti·∫øt ki·ªám 60% nƒÉng
                            l∆∞·ª£ng s·∫£n xu·∫•t</div>
                    </div>
                    <!-- Paper -->
                    <div class="wiki-card">
                        <div class="wiki-icon-header paper"><i data-lucide="file-text"></i></div>
                        <h3 data-i18n="wiki_paper">Gi·∫•y (Paper)</h3>
                        <p class="wiki-desc" data-i18n="wiki_paper_desc">S√°ch b√°o, th√πng carton, gi·∫•y in, h·ªôp s·ªØa.</p>
                        <div class="wiki-separator"></div>
                        <ul class="wiki-list">
                            <li class="do" data-i18n="wiki_paper_do1">Gi·ªØ gi·∫•y ph·∫≥ng v√† kh√¥ r√°o</li>
                            <li class="do" data-i18n="wiki_paper_do2">Th√°o bƒÉng keo tr√™n th√πng carton</li>
                            <li class="do" data-i18n="wiki_paper_do3">X·∫øp g·ªçn th√†nh ch·ªìng g·ªçn g√†ng</li>
                            <li class="dont" data-i18n="wiki_paper_dont">Kh√¥ng t√°i ch·∫ø gi·∫•y d√≠nh d·∫ßu m·ª° ho·∫∑c ∆∞·ªõt</li>
                        </ul>
                        <div class="wiki-fact" data-i18n="wiki_paper_fact">üåç T√°i ch·∫ø 1 t·∫•n gi·∫•y = c·ª©u 17 c√¢y xanh kh·ªèi
                            b·ªã ch·∫∑t</div>
                    </div>
                    <!-- Metal -->
                    <div class="wiki-card">
                        <div class="wiki-icon-header metal"><i data-lucide="disc"></i></div>
                        <h3 data-i18n="wiki_metal">Kim lo·∫°i (Metal)</h3>
                        <p class="wiki-desc" data-i18n="wiki_metal_desc">Lon n∆∞·ªõc ng·ªçt, h·ªôp th·ª±c ph·∫©m, n·∫Øp chai, dao c≈©.
                        </p>
                        <div class="wiki-separator"></div>
                        <ul class="wiki-list">
                            <li class="do" data-i18n="wiki_metal_do1">ƒê·ªï h·∫øt ch·∫•t l·ªèng b√™n trong</li>
                            <li class="do" data-i18n="wiki_metal_do2">R·ª≠a s·∫°ch th·ª±c ph·∫©m th·ª´a</li>
                            <li class="do" data-i18n="wiki_metal_do3">B√≥p d·∫πp lon nh√¥m n·∫øu c√≥ th·ªÉ</li>
                            <li class="dont" data-i18n="wiki_metal_dont">Kh√¥ng b·ªè v·ªè b√¨nh x·ªãt h√≥a ch·∫•t</li>
                        </ul>
                        <div class="wiki-fact" data-i18n="wiki_metal_fact">üåç T√°i ch·∫ø nh√¥m ti·∫øt ki·ªám 95% nƒÉng l∆∞·ª£ng so
                            v·ªõi s·∫£n xu·∫•t m·ªõi</div>
                    </div>
                    <!-- Glass -->
                    <div class="wiki-card">
                        <div class="wiki-icon-header glass"><i data-lucide="wine"></i></div>
                        <h3 data-i18n="wiki_glass">Th·ªßy tinh (Glass)</h3>
                        <p class="wiki-desc" data-i18n="wiki_glass_desc">Chai l·ªç th·ªßy tinh, l·ªç jam, h·ªß gia v·ªã.</p>
                        <div class="wiki-separator"></div>
                        <ul class="wiki-list">
                            <li class="do" data-i18n="wiki_glass_do1">R·ª≠a s·∫°ch, th√°o n·∫Øp</li>
                            <li class="do" data-i18n="wiki_glass_do2">Ph√¢n lo·∫°i theo m√†u (trong, xanh, n√¢u)</li>
                            <li class="do" data-i18n="wiki_glass_do3">B·ªçc k√≠n n·∫øu v·ª°</li>
                            <li class="dont" data-i18n="wiki_glass_dont">Kh√¥ng b·ªè g∆∞∆°ng v·ª°, b√≥ng ƒë√®n, kh√≥a c·ª≠a</li>
                        </ul>
                        <div class="wiki-fact" data-i18n="wiki_glass_fact">üåç Th·ªßy tinh c√≥ th·ªÉ t√°i ch·∫ø 100% v√¥ s·ªë l·∫ßn m√†
                            kh√¥ng gi·∫£m ch·∫•t l∆∞·ª£ng</div>
                    </div>
                    <!-- E-Waste -->
                    <div class="wiki-card">
                        <div class="wiki-icon-header ewaste"><i data-lucide="cpu"></i></div>
                        <h3 data-i18n="wiki_ewaste">R√°c ƒëi·ªán t·ª≠ (E-Waste)</h3>
                        <p class="wiki-desc" data-i18n="wiki_ewaste_desc">Pin, ƒëi·ªán tho·∫°i c≈©, d√¢y s·∫°c h·ªèng, laptop c≈©.
                        </p>
                        <div class="wiki-separator"></div>
                        <ul class="wiki-list">
                            <li class="do" data-i18n="wiki_ewaste_do1">Thu gom v√†o h·ªôp ri√™ng, d√°n nh√£n 'E-Waste'</li>
                            <li class="do" data-i18n="wiki_ewaste_do2">Mang ƒë·∫øn ƒëi·ªÉm thu h·ªìi (ƒë·∫∑t t·∫°i tr∆∞·ªùng)</li>
                            <li class="do" data-i18n="wiki_ewaste_do3">X√≥a d·ªØ li·ªáu c√° nh√¢n tr∆∞·ªõc khi n·ªôp</li>
                            <li class="dont" data-i18n="wiki_ewaste_dont">Kh√¥ng ƒë·∫≠p v·ª° pin, kh√¥ng ƒë·ªët r√°c ƒëi·ªán t·ª≠</li>
                        </ul>
                        <div class="wiki-fact warning" data-i18n="wiki_ewaste_fact">‚ö†Ô∏è R√°c ƒëi·ªán t·ª≠ ch·ª©a ch√¨, th·ªßy ng√¢n
                            g√¢y h·∫°i ƒë·∫•t v√† n∆∞·ªõc nghi√™m tr·ªçng</div>
                    </div>
                    <!-- Organic -->
                    <div class="wiki-card">
                        <div class="wiki-icon-header organic"><i data-lucide="apple"></i></div>
                        <h3 data-i18n="wiki_organic">R√°c h·ªØu c∆° (Organic)</h3>
                        <p class="wiki-desc" data-i18n="wiki_organic_desc">V·ªè tr√°i c√¢y, rau c·ªß, b√£ c√† ph√™, c∆°m th·ª´a.</p>
                        <div class="wiki-separator"></div>
                        <ul class="wiki-list">
                            <li class="do" data-i18n="wiki_organic_do1">·ª¶ compost l√†m ph√¢n b√≥n c√¢y</li>
                            <li class="do" data-i18n="wiki_organic_do2">ƒê·ªÉ r√°o n∆∞·ªõc tr∆∞·ªõc khi ·ªß</li>
                            <li class="do" data-i18n="wiki_organic_do3">Ch·∫ø bi·∫øn th√†nh kh√≠ bi√¥ga (biogas)</li>
                            <li class="dont" data-i18n="wiki_organic_dont">Kh√¥ng ƒë·ª±ng trong t√∫i nilon khi ·ªß</li>
                        </ul>
                        <div class="wiki-fact" data-i18n="wiki_organic_fact">üåç R√°c h·ªØu c∆° chi·∫øm 50-70% l∆∞·ª£ng r√°c h·ªô gia
                            ƒë√¨nh ‚Äî ·ªß compost gi√∫p gi·∫£m r√°c b√£i</div>
                    </div>
                </div>


                <!-- Video Grid (Hidden by default) -->
                <!-- Video Grid (Hidden by default) -->
                <div id="wiki-videos" class="wiki-grid hidden">
                    <!-- Video 1: General recycling guide VN -->
                    <div class="wiki-card video-card">
                        <iframe width="100%" height="200" src="https://www.youtube.com/embed/VRmBVWB7X_E"
                            title="H∆∞·ªõng d·∫´n ph√¢n lo·∫°i r√°c th·∫£i t·∫°i ngu·ªìn" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen style="border-radius: 12px; margin-bottom: 12px;"></iframe>
                        <h3>H∆∞·ªõng d·∫´n ph√¢n lo·∫°i r√°c th·∫£i t·∫°i ngu·ªìn</h3>
                    </div>
                    <!-- Video 2: Plastic recycling VN -->
                    <div class="wiki-card video-card">
                        <iframe width="100%" height="200" src="https://www.youtube.com/embed/Vir8f286eQI"
                            title="T√°i ch·∫ø r√°c nh·ª±a" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen style="border-radius: 12px; margin-bottom: 12px;"></iframe>
                        <h3>C√°ch ph√¢n lo·∫°i r√°c nh·ª±a ƒë√∫ng c√°ch</h3>
                    </div>
                    <!-- Video 3: Compost / organic -->
                    <div class="wiki-card video-card">
                        <iframe width="100%" height="200" src="https://www.youtube.com/embed/2Pqz1JYSzRs"
                            title="·ª¶ ph√¢n Compost" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen style="border-radius: 12px; margin-bottom: 12px;"></iframe>
                        <h3>H∆∞·ªõng d·∫´n ·ªß ph√¢n Compost t·ª´ r√°c h·ªØu c∆°</h3>
                    </div>
                    <!-- Video 4: E-Waste awareness -->
                    <div class="wiki-card video-card">
                        <iframe width="100%" height="200" src="https://www.youtube.com/embed/sW_7i6T_H78"
                            title="R√°c ƒëi·ªán t·ª≠ E-Waste" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen style="border-radius: 12px; margin-bottom: 12px;"></iframe>
                        <h3>Hi·ªÉm h·ªça t·ª´ r√°c ƒëi·ªán t·ª≠ (E-Waste)</h3>
                    </div>
                    <!-- Video 5: Reuse & upcycle ideas for students -->
                    <div class="wiki-card video-card">
                        <iframe width="100%" height="200" src="https://www.youtube.com/embed/Ba07bBAi8O4"
                            title="T√°i s·ª≠ d·ª•ng s√°ng t·∫°o" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen style="border-radius: 12px; margin-bottom: 12px;"></iframe>
                        <h3>√ù t∆∞·ªüng t√°i s·ª≠ d·ª•ng ƒë·ªì v·∫≠t c≈© s√°ng t·∫°o</h3>
                    </div>
                    <!-- Video 6: Zero-waste school -->
                    <div class="wiki-card video-card">
                        <iframe width="100%" height="200" src="https://www.youtube.com/embed/4KBsz8uqQ3k"
                            title="Tr∆∞·ªùng h·ªçc kh√¥ng r√°c th·∫£i" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen style="border-radius: 12px; margin-bottom: 12px;"></iframe>
                        <h3>X√¢y d·ª±ng tr∆∞·ªùng h·ªçc kh√¥ng r√°c th·∫£i</h3>
                    </div>
                </div>
            </section>
        </div>

        <!-- ============ PAGE: REWARDS ============ -->
        <div id="page-rewards" class="page-view hidden">
            <section class="wiki-section">
                <div class="section-header">
                    <h2 data-i18n="rewards_title">ƒê·ªïi qu√† &amp; Ph·∫ßn th∆∞·ªüng</h2>
                    <p data-i18n="rewards_subtitle">D√πng Green Token ki·∫øm ƒë∆∞·ª£c ƒë·ªÉ ƒë·ªïi l·∫•y ∆∞u ƒë√£i t·ª´ nh√† tr∆∞·ªùng</p>
                </div>

                <!-- Token Balance -->
                <div class="token-banner">
                    <div class="token-balance">
                        <i data-lucide="leaf"></i>
                        <div>
                            <div class="token-amount" id="rewards-token-count">0</div>
                            <div class="token-label" data-i18n="token_label">Green Tokens c·ªßa b·∫°n</div>
                        </div>
                    </div>
                    <div class="token-tip">
                        <p data-i18n="token_earn_tip">üí° Qu√©t r√°c + x√°c nh·∫≠n t√°i ch·∫ø ƒë·ªÉ ki·∫øm token!</p>
                    </div>
                </div>

                <!-- Reward History (if logged in) -->
                <div id="rewards-history-section" class="hidden" style="margin-bottom:24px">
                    <h3 style="margin-bottom:12px" data-i18n="rewards_history">L·ªãch s·ª≠ ƒë·ªïi qu√†</h3>
                    <div id="rewards-history-list" class="rewards-history-list"></div>
                </div>

                <!-- Rewards Grid: School Privileges -->
                <div class="wiki-grid" id="rewards-grid">
                    <!-- Privilege 1: Mi·ªÖn tr·ª±c nh·∫≠t -->
                    <div class="reward-card">
                        <div class="reward-img">üßπ</div>
                        <h3>Mi·ªÖn tr·ª±c nh·∫≠t 1 tu·∫ßn</h3>
                        <p>ƒê∆∞·ª£c mi·ªÖn nhi·ªám v·ª• tr·ª±c nh·∫≠t l·ªõp trong 1 tu·∫ßn h·ªçc</p>
                        <div class="reward-cost"><i data-lucide="leaf"></i> 50 tokens</div>
                        <button class="btn btn-sm btn-primary"
                            onclick="AppState.redeemReward(1,'Mi·ªÖn tr·ª±c nh·∫≠t 1 tu·∫ßn',50)" data-i18n="btn_redeem">ƒê·ªïi
                            qu√†</button>
                    </div>
                    <!-- Privilege 2: Ra v·ªÅ s·ªõm -->
                    <div class="reward-card">
                        <div class="reward-img">üö∂</div>
                        <h3>Ra v·ªÅ s·ªõm 15 ph√∫t</h3>
                        <p>ƒê∆∞·ª£c ph√©p ra v·ªÅ tr∆∞·ªõc 15 ph√∫t v√†o 1 bu·ªïi h·ªçc t·ª± ch·ªçn</p>
                        <div class="reward-cost"><i data-lucide="leaf"></i> 80 tokens</div>
                        <button class="btn btn-sm btn-primary" onclick="AppState.redeemReward(2,'Ra v·ªÅ s·ªõm 15 ph√∫t',80)"
                            data-i18n="btn_redeem">ƒê·ªïi qu√†</button>
                    </div>
                    <!-- Privilege 3: Th∆∞ vi·ªán t·ª± do -->
                    <div class="reward-card">
                        <div class="reward-img">üìö</div>
                        <h3>L√™n th∆∞ vi·ªán t·ª± do</h3>
                        <p>ƒê∆∞·ª£c ph√©p l√™n th∆∞ vi·ªán ƒë·ªçc s√°ch t·ª± do trong 1 ti·∫øt h·ªçc</p>
                        <div class="reward-cost"><i data-lucide="leaf"></i> 100 tokens</div>
                        <button class="btn btn-sm btn-primary"
                            onclick="AppState.redeemReward(3,'L√™n th∆∞ vi·ªán t·ª± do',100)" data-i18n="btn_redeem">ƒê·ªïi
                            qu√†</button>
                    </div>
                    <!-- Privilege 4: ƒêi·ªÉm th∆∞·ªüng -->
                    <div class="reward-card">
                        <div class="reward-img">‚≠ê</div>
                        <h3>ƒêi·ªÉm th∆∞·ªüng m√¥n KHTN</h3>
                        <p>Nh·∫≠n +1 ƒëi·ªÉm th∆∞·ªüng v√†o c·ªôt ƒëi·ªÉm ki·ªÉm tra mi·ªáng m√¥n KHTN</p>
                        <div class="reward-cost"><i data-lucide="leaf"></i> 150 tokens</div>
                        <button class="btn btn-sm btn-primary"
                            onclick="AppState.redeemReward(4,'ƒêi·ªÉm th∆∞·ªüng m√¥n KHTN',150)" data-i18n="btn_redeem">ƒê·ªïi
                            qu√†</button>
                    </div>
                    <!-- Privilege 5: Eco Ambassador -->
                    <div class="reward-card">
                        <div class="reward-img">üèÖ</div>
                        <h3>Huy hi·ªáu "ƒê·∫°i s·ª© Eco"</h3>
                        <p>ƒê∆∞·ª£c c√¥ng nh·∫≠n l√† ƒê·∫°i s·ª© M√¥i tr∆∞·ªùng c·ªßa l·ªõp, nh·∫≠n huy hi·ªáu v√† gi·∫•y khen</p>
                        <div class="reward-cost"><i data-lucide="leaf"></i> 300 tokens</div>
                        <button class="btn btn-sm btn-primary"
                            onclick="AppState.redeemReward(5,'Huy hi·ªáu ƒê·∫°i s·ª© Eco',300)" data-i18n="btn_redeem">ƒê·ªïi
                            qu√†</button>
                    </div>
                    <!-- Privilege 6: Field Trip Leader -->
                    <div class="reward-card">
                        <div class="reward-img">üåø</div>
                        <h3>Tr∆∞·ªüng nh√≥m tham quan</h3>
                        <p>ƒê∆∞·ª£c ch·ªçn l√†m Tr∆∞·ªüng nh√≥m trong chuy·∫øn tham quan sinh th√°i c·ªßa tr∆∞·ªùng</p>
                        <div class="reward-cost"><i data-lucide="leaf"></i> 500 tokens</div>
                        <button class="btn btn-sm btn-primary"
                            onclick="AppState.redeemReward(6,'Tr∆∞·ªüng nh√≥m tham quan sinh th√°i',500)"
                            data-i18n="btn_redeem">ƒê·ªïi qu√†</button>
                    </div>
                </div>
            </section>


    </main>


    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-brand">
                <i data-lucide="tree-deciduous"></i>
                <span>EcoTask Titanium</span>
                <p>Built with AI for a Green Future</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2026 ICIA Innovation Challenge.</p>
        </div>
    </footer>

    <!-- Chart.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>

</html>