<!DOCTYPE html>
<html lang="vi" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoTask - ICIA Titanium</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800&family=Open+Sans:wght@400;500;600&display=swap"
        rel="stylesheet">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-brand" onclick="AppState.navigateTo('home')">
            <i data-lucide="tree-deciduous"></i>
            <span>EcoTask</span>
            <span class="badge">Titanium</span>
        </div>

        <!-- Desktop Menu -->
        <div class="nav-menu">
            <button class="nav-link active" onclick="AppState.navigateTo('home')" data-page="home">
                <i data-lucide="home"></i> <span data-i18n="nav_home">Trang ch·ªß</span>
            </button>
            <button class="nav-link" onclick="AppState.navigateTo('scanner')" data-page="scanner">
                <i data-lucide="scan-line"></i> <span data-i18n="nav_scan">Qu√©t AI</span>
            </button>
            <button class="nav-link" onclick="AppState.navigateTo('stats')" data-page="stats">
                <i data-lucide="bar-chart-2"></i> <span data-i18n="nav_stats">Th·ªëng k√™</span>
            </button>
            <button class="nav-link" onclick="AppState.navigateTo('wiki')" data-page="wiki">
                <i data-lucide="book-open"></i> <span data-i18n="nav_wiki">H∆∞·ªõng d·∫´n</span>
            </button>
        </div>

        <div class="nav-actions">
            <!-- Language Toggle -->
            <button class="nav-btn lang-btn" id="lang-toggle" onclick="AppState.toggleLanguage()">
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/21/Flag_of_Vietnam.svg" alt="VN"
                    class="lang-flag" id="lang-icon">
                <span id="lang-text">VN</span>
            </button>

            <!-- Dark Mode Toggle -->
            <button class="nav-btn" id="theme-toggle" aria-label="Toggle Dark Mode">
                <i data-lucide="moon"></i>
            </button>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main id="main-content">

        <!-- PAGE: HOME -->
        <div id="page-home" class="page-view active">
            <header class="hero">
                <div class="hero-content">
                    <div class="hero-text">
                        <span class="hero-badge">
                            <i data-lucide="sparkles"></i>
                            <span data-i18n="hero_badge">AI-Powered Recycling Assistant</span>
                        </span>
                        <h1 data-i18n="hero_title">Bi·∫øn r√°c th·∫£i th√†nh <span class="text-gradient">t√†i nguy√™n</span>
                        </h1>
                        <p data-i18n="hero_desc">S·ª≠ d·ª•ng tr√≠ tu·ªá nh√¢n t·∫°o (AI) ƒë·ªÉ ph√¢n lo·∫°i r√°c v√† theo d√µi t√°c ƒë·ªông m√¥i
                            tr∆∞·ªùng c·ªßa to√†n tr∆∞·ªùng.</p>
                        <div class="hero-buttons">
                            <button class="btn btn-primary" onclick="AppState.navigateTo('scanner')">
                                <i data-lucide="scan-line"></i> <span data-i18n="btn_scan">Qu√©t r√°c ngay (AI)</span>
                            </button>
                            <button class="btn btn-outline" onclick="AppState.navigateTo('stats')">
                                <i data-lucide="bar-chart-2"></i> <span data-i18n="btn_stats">Xem th·ªëng k√™</span>
                            </button>
                        </div>
                    </div>
                    <div class="hero-visual">
                        <div class="scanner-mockup">
                            <div class="scanner-frame">
                                <div class="scan-line"></div>
                                <div class="scan-overlay">
                                    <i data-lucide="scan"></i>
                                    <span>AI Identifying...</span>
                                </div>
                                <img src="https://images.unsplash.com/photo-1591193686104-fddba4d0e4d8?q=80&w=400&auto=format&fit=crop"
                                    alt="Plastic Bottle">
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Quick Features Grid (Home Only) -->
            <section class="features-preview">
                <div class="feature-card" onclick="AppState.navigateTo('scanner')">
                    <div class="feature-icon"><i data-lucide="camera"></i></div>
                    <h3 data-i18n="feat_scan_title">Nh·∫≠n di·ªán AI</h3>
                    <p data-i18n="feat_scan_desc">Ph√¢n lo·∫°i r√°c t·ª± ƒë·ªông ch·ªâ trong 3 gi√¢y.</p>
                </div>
                <div class="feature-card" onclick="AppState.navigateTo('stats')">
                    <div class="feature-icon"><i data-lucide="trending-up"></i></div>
                    <h3 data-i18n="feat_stats_title">Theo d√µi T√°c ƒë·ªông</h3>
                    <p data-i18n="feat_stats_desc">Xem s·ªë li·ªáu gi·∫£m th·∫£i CO2 th·ªùi gian th·ª±c.</p>
                </div>
                <div class="feature-card" onclick="AppState.navigateTo('wiki')">
                    <div class="feature-icon"><i data-lucide="book"></i></div>
                    <h3 data-i18n="feat_wiki_title">Wiki T√°i ch·∫ø</h3>
                    <p data-i18n="feat_wiki_desc">H∆∞·ªõng d·∫´n chi ti·∫øt c√°ch x·ª≠ l√Ω t·ª´ng lo·∫°i r√°c.</p>
                </div>
            </section>
        </div>

        <!-- PAGE: SCANNER -->
        <div id="page-scanner" class="page-view hidden">
            <section class="scanner-section">
                <div class="section-header">
                    <h2 data-i18n="scanner_title">AI Waste Scanner</h2>
                    <p data-i18n="scanner_subtitle">C√¥ng ngh·ªá nh·∫≠n di·ªán r√°c th·∫£i ti√™n ti·∫øn</p>
                </div>
                <div class="scanner-container">
                    <div class="scanner-interface">
                        <div class="upload-zone" id="upload-zone">
                            <input type="file" id="ai-upload" accept="image/*" hidden>
                            <div class="upload-content">
                                <i data-lucide="camera" class="upload-icon"></i>
                                <h3 data-i18n="upload_title">Ch·ª•p ·∫£nh ho·∫∑c t·∫£i l√™n</h3>
                                <p data-i18n="upload_desc">AI s·∫Ω t·ª± ƒë·ªông ph√¢n lo·∫°i r√°c gi√∫p b·∫°n</p>
                                <button class="btn btn-sm btn-primary"
                                    onclick="document.getElementById('ai-upload').click()" data-i18n="btn_upload">Ch·ªçn
                                    ·∫£nh</button>
                            </div>
                            <div id="ai-preview" class="ai-preview hidden">
                                <img id="preview-img" src="" alt="Preview">
                                <div class="scanning-effect hidden" id="scanning-effect">
                                    <div class="scan-bar"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="scanner-result hidden" id="scanner-result">
                        <h3 data-i18n="result_title">K·∫øt qu·∫£ ph√¢n t√≠ch AI</h3>
                        <div class="result-card">
                            <div class="result-icon-wrapper" id="result-icon-wrapper">
                                <i data-lucide="box"></i>
                            </div>
                            <div class="result-info">
                                <h4 id="result-type">R√°c Nh·ª±a (Plastic)</h4>
                                <p class="confidence"><span data-i18n="confidence">ƒê·ªô ch√≠nh x√°c:</span> <span
                                        id="result-confidence">98%</span></p>
                                <p class="disposal-guide" id="result-guide">
                                    üí° Guide: Rinse, flatten, and put in the yellow bin.
                                </p>
                                <div class="impact-gained">
                                    <i data-lucide="leaf"></i> <span id="impact-val">+0.05kg CO2</span>
                                </div>
                            </div>
                        </div>
                        <div class="scanner-actions">
                            <button class="btn btn-primary" onclick="AppState.confirmRecycle()">
                                <i data-lucide="check"></i> <span data-i18n="btn_confirm">X√°c nh·∫≠n ƒë√£ t√°i ch·∫ø</span>
                            </button>
                            <button class="btn btn-outline" onclick="AppState.resetScanner()">
                                <i data-lucide="refresh-cw"></i> <span data-i18n="btn_rescan">Qu√©t l·∫°i</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- PAGE: STATS -->
        <div id="page-stats" class="page-view hidden">
            <section class="dashboard-section">
                <div class="section-header">
                    <h2 data-i18n="dashboard_title">Th·ªëng k√™ T√°c ƒë·ªông</h2>
                    <p data-i18n="dashboard_subtitle">D·ªØ li·ªáu th·ª±c t·∫ø t·ª´ to√†n tr∆∞·ªùng</p>
                </div>

                <!-- User Profile Context -->
                <div class="user-profile-context hidden" id="profile-context">
                    <div class="profile-card-small">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="Avatar"
                            class="profile-avatar">
                        <div class="profile-info">
                            <span class="profile-name">Nguy·ªÖn VƒÉn A</span>
                            <span class="profile-class">H·ªçc sinh l·ªõp 9A1</span>
                        </div>
                    </div>
                </div>

                <!-- Stats Controls -->
                <div class="stats-controls">
                    <!-- Scope Toggles -->
                    <div class="scope-toggles">
                        <button class="scope-btn active" onclick="AppState.setStatsScope('personal')" id="btn-personal">
                            <i data-lucide="user"></i> <span data-i18n="filter_personal">C√° nh√¢n</span>
                        </button>
                        <button class="scope-btn" onclick="AppState.setStatsScope('class')" id="btn-class">
                            <i data-lucide="users"></i> <span data-i18n="filter_class">L·ªõp</span>
                        </button>
                        <button class="scope-btn" onclick="AppState.setStatsScope('grade')" id="btn-grade">
                            <i data-lucide="layers"></i> <span data-i18n="filter_grade">Kh·ªëi</span>
                        </button>
                        <button class="scope-btn" onclick="AppState.setStatsScope('school')" id="btn-school">
                            <i data-lucide="school"></i> <span data-i18n="filter_school">To√†n tr∆∞·ªùng</span>
                        </button>
                    </div>

                    <!-- Dynamic Filters (Hidden based on scope) -->
                    <div class="filter-dropdowns">
                        <select id="grade-select" class="form-select hidden" onchange="AppState.updateDashboardData()">
                            <option value="6">Kh·ªëi 6</option>
                            <option value="7">Kh·ªëi 7</option>
                            <option value="8">Kh·ªëi 8</option>
                            <option value="9" selected>Kh·ªëi 9</option>
                        </select>

                        <select id="class-select" class="form-select hidden" onchange="AppState.updateDashboardData()">
                            <!-- Will be populated by JS -->
                            <option value="9A1">L·ªõp 9A1</option>
                        </select>
                    </div>
                </div>
                <div class="dashboard-grid">
                    <!-- Key Metrics -->
                    <div class="metric-card">
                        <div class="metric-icon leaf"><i data-lucide="leaf"></i></div>
                        <h3 id="stat-co2">24.5 kg</h3>
                        <p>CO2 Reduced</p>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon recycle"><i data-lucide="recycle"></i></div>
                        <h3 id="stat-waste">150 kg</h3>
                        <p>Waste Recycled</p>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon tree"><i data-lucide="tree-deciduous"></i></div>
                        <h3 id="stat-trees">12</h3>
                        <p>Trees Saved</p>
                    </div>

                    <!-- Charts -->
                    <div class="chart-card wide">
                        <h3 data-i18n="chart_waste_title">Ph√¢n lo·∫°i r√°c th·∫£i</h3>
                        <canvas id="wasteChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3 data-i18n="chart_trend_title">Xu h∆∞·ªõng h√†ng th√°ng</h3>
                        <canvas id="trendChart"></canvas>
                    </div>
                </div>
            </section>
        </div>

        <!-- PAGE: WIKI -->
        <div id="page-wiki" class="page-view hidden">
            <section class="wiki-section">
                <div class="section-header">
                    <h2 data-i18n="wiki_title">H∆∞·ªõng d·∫´n T√°i ch·∫ø</h2>
                    <p data-i18n="wiki_subtitle">Tra c·ª©u nhanh c√°ch x·ª≠ l√Ω c√°c lo·∫°i r√°c ph·ªï bi·∫øn</p>
                </div>

                <!-- Toggle between Cards and Videos -->
                <div class="wiki-tabs" style="display: flex; justify-content: center; gap: 10px; margin-bottom: 24px;">
                    <button class="filter-btn active" onclick="AppState.showWikiTab('guides')">C·∫©m nang</button>
                    <button class="filter-btn" onclick="AppState.showWikiTab('videos')">Video H∆∞·ªõng d·∫´n</button>
                </div>

                <!-- Wiki Grid -->
                <div id="wiki-guides" class="wiki-grid">
                    <div class="wiki-card">
                        <div class="wiki-icon-header plastic">
                            <i data-lucide="coffee"></i>
                        </div>
                        <h3 data-i18n="wiki_plastic">Nh·ª±a (Plastic)</h3>
                        <p class="wiki-desc">Chai n∆∞·ªõc, h·ªôp ƒë·ª±ng th·ª©c ƒÉn, ly nh·ª±a.</p>
                        <div class="wiki-separator"></div>
                        <ul class="wiki-list">
                            <li class="do" data-i18n="wiki_plastic_do1">R·ª≠a s·∫°ch v√† ƒë·ªÉ r√°o</li>
                            <li class="do" data-i18n="wiki_plastic_do2">B√≥p b·∫πp ƒë·ªÉ ti·∫øt ki·ªám di·ªán t√≠ch</li>
                            <li class="dont" data-i18n="wiki_plastic_dont">Kh√¥ng b·ªè ·ªëng h√∫t nh·ª±a nh·ªè</li>
                        </ul>
                    </div>
                    <div class="wiki-card">
                        <div class="wiki-icon-header paper">
                            <i data-lucide="file-text"></i>
                        </div>
                        <h3 data-i18n="wiki_paper">Gi·∫•y (Paper)</h3>
                        <p class="wiki-desc">S√°ch b√°o, th√πng carton, gi·∫•y in.</p>
                        <div class="wiki-separator"></div>
                        <ul class="wiki-list">
                            <li class="do" data-i18n="wiki_paper_do1">Gi·ªØ gi·∫•y ph·∫≥ng v√† kh√¥ r√°o</li>
                            <li class="do" data-i18n="wiki_paper_do2">Th√°o bƒÉng keo tr√™n th√πng carton</li>
                            <li class="dont" data-i18n="wiki_paper_dont">Kh√¥ng t√°i ch·∫ø gi·∫•y d√≠nh d·∫ßu m·ª°</li>
                        </ul>
                    </div>
                    <div class="wiki-card">
                        <div class="wiki-icon-header metal">
                            <i data-lucide="disc"></i>
                        </div>
                        <h3 data-i18n="wiki_metal">Kim lo·∫°i (Metal)</h3>
                        <p class="wiki-desc">Lon n∆∞·ªõc ng·ªçt, h·ªôp th·ª±c ph·∫©m, n·∫Øp chai.</p>
                        <div class="wiki-separator"></div>
                        <ul class="wiki-list">
                            <li class="do" data-i18n="wiki_metal_do1">ƒê·ªï h·∫øt ch·∫•t l·ªèng b√™n trong</li>
                            <li class="do" data-i18n="wiki_metal_do2">R·ª≠a s·∫°ch th·ª±c ph·∫©m th·ª´a</li>
                            <li class="dont" data-i18n="wiki_metal_dont">Kh√¥ng t√°i ch·∫ø v·ªè b√¨nh x·ªãt h√≥a ch·∫•t</li>
                        </ul>
                    </div>
                    <div class="wiki-card">
                        <div class="wiki-icon-header glass">
                            <i data-lucide="wine"></i>
                        </div>
                        <h3 data-i18n="wiki_glass">Th·ªßy tinh (Glass)</h3>
                        <p class="wiki-desc">Chai l·ªç th·ªßy tinh c√°c lo·∫°i.</p>
                        <div class="wiki-separator"></div>
                        <ul class="wiki-list">
                            <li class="do">R·ª≠a s·∫°ch v√† th√°o n·∫Øp</li>
                            <li class="do">Ph√¢n lo·∫°i theo m√†u n·∫øu c√≥ th·ªÉ</li>
                            <li class="dont">Kh√¥ng b·ªè g∆∞∆°ng v·ª°, b√≥ng ƒë√®n</li>
                        </ul>
                    </div>
                </div>

                <!-- Video Grid (Hidden by default) -->
                <div id="wiki-videos" class="wiki-grid hidden">
                    <!-- Video 1 -->
                    <div class="wiki-card video-card">
                        <iframe width="100%" height="200" src="https://www.youtube.com/embed/Vir8f286eQI"
                            title="How to Recycle Plastic" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen style="border-radius: 12px; margin-bottom: 12px;"></iframe>
                        <h3>C√°ch ph√¢n lo·∫°i r√°c nh·ª±a ƒë√∫ng c√°ch</h3>
                        <p class="wiki-desc">H∆∞·ªõng d·∫´n chi ti·∫øt quy tr√¨nh x·ª≠ l√Ω chai nh·ª±a tr∆∞·ªõc khi b·ªè v√†o th√πng t√°i
                            ch·∫ø.</p>
                    </div>
                    <!-- Video 2 -->
                    <div class="wiki-card video-card">
                        <iframe width="100%" height="200" src="https://www.youtube.com/embed/VlRVPKeyhMw"
                            title="Recycling Paper" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen style="border-radius: 12px; margin-bottom: 12px;"></iframe>
                        <h3>T√°i ch·∫ø gi·∫•y: N√™n v√† Kh√¥ng n√™n</h3>
                        <p class="wiki-desc">Nh·ªØng lo·∫°i gi·∫•y n√†o t√°i ch·∫ø ƒë∆∞·ª£c v√† lo·∫°i n√†o ph·∫£i b·ªè r√°c th·∫£i sinh ho·∫°t?
                        </p>
                    </div>
                    <!-- Video 3 -->
                    <div class="wiki-card video-card">
                        <iframe width="100%" height="200" src="https://www.youtube.com/embed/Ba07bBAi8O4"
                            title="Metal Recycling" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen style="border-radius: 12px; margin-bottom: 12px;"></iframe>
                        <h3>Quy tr√¨nh t√°i ch·∫ø kim lo·∫°i</h3>
                        <p class="wiki-desc">Kh√°m ph√° h√†nh tr√¨nh t√°i sinh c·ªßa m·ªôt chi·∫øc lon nh√¥m.</p>
                    </div>
                </div>
            </section>
        </div>

    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-brand">
                <i data-lucide="tree-deciduous"></i>
                <span>EcoTask Titanium</span>
                <p>Built with AI for a Green Future</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2026 ICIA Innovation Challenge.</p>
        </div>
    </footer>

    <!-- Chart.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>

</html>